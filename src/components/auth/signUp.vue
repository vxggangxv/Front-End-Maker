<template>
  <v-form v-model="valid" ref="form" lazy-validation>
    <v-card-title primary-title>
      <span class="title">회원가입</span>
      <v-spacer></v-spacer>
      <span class="caption">
        또는&nbsp;
        <a @click="$emit('changeSignType')">로그인</a>
      </span>
    </v-card-title>
    <v-card-text>
      <div class="mt-5">
        <v-btn color="red" dark block>
          <v-icon>mdi-google</v-icon>
          <v-divider vertical class="mx-3"></v-divider>
          Google 계정으로 회원가입
        </v-btn>
      </div>
      
      <v-row class="mt-3" no-gutters>
        <v-col xs-5>
          <v-divider class="mt-3"></v-divider>
        </v-col>
        <v-col xs-2 class="text-center">또는</v-col>
        <v-col xs-5>
          <v-divider class="mt-3"></v-divider>
        </v-col>
      </v-row>
    
      <v-text-field label="이메일" v-model="form.email" :rules="[rule.required, rule.minLength(7), rule.maxLength(50), rule.email]" required></v-text-field>
      <v-text-field label="비밀번호" v-model="form.password" :rules="[rule.required, rule.minLength(6), rule.maxLength(50)]" type="password" required></v-text-field>
      <div class="small-terms-text">이 페이지는 reCAPTCHA로 보호되며, Google 개인정보처리방침 및 서비스 약관의 적용을 받습니다.</div>
    </v-card-text>

    <v-card-actions>
      <v-checkbox label="약관에 동의함" v-model="agree" :rules="[rule.agree]" required></v-checkbox>
      <v-spacer></v-spacer>
      <!-- <v-btn color="primary" :disabled="!valid" @click="createWithEmailAndPassword">
        회원가입
      </v-btn> -->
      <v-btn color="primary" :disabled="!valid">
        회원가입
      </v-btn>
    </v-card-actions>
  </v-form>
</template>

<script>
  export default {
    data() {
      return {
        form: {
          email: '',
          password: ''
        },
        agree: false,
        rule: {
          required: v => !!v || '필수 항목입니다.',
          minLength: length => v => v.length >= length || `${length}자리 이상으로 입력하세요.`,
          maxLength: length => v => v.length <= length || `${length}자리 이하으로 입력하세요.`,
          email: v => /.+@.+/.test(v) || '이메일 형식에 맞지 않습니다.',
          agree: v => !!v || '약관에 동의해야 진행됩니다.'
        },
        valid: false
      }
    },
  }

</script>

<style lang="scss" scoped>
.recaptcha-terms-text {
    font-size: 12px;
    font-weight: 200;
    color: #637282
}
</style>
